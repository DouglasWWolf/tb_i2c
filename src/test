# device address is 0x4B   *2 = 0x96
# Device is an ADT 7420

addr=0x4B

# Enable the controller
axireg 0x100 1

# Reset the TX FIFO
axireg 0x100 2
axireg 0x100 0

# Place the I2C in bus-master mode
axireg 0x100 4

# Write a device address in read mode 
axireg 0x108 $(( 0x100 + (addr<<1) ))

# Write the address of the register we want
axireg 0x108 0

# Now we're going to begin a read from that address
axireg 0x108 $(( 0x100 + (addr<<1) + 1 ))

axireg 0x108 $(( 0x200 + 2 ))

sleep 2

# Find out if either FIFO is empty
axireg 0x104
